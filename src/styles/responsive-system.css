/* 
 * INDUSTRY-STANDARD RESPONSIVE SYSTEM
 * Goal: Achieve perfect responsiveness while preserving ALL existing styles
 * Reference layout: 1468x689 (user's ideal proportions)
 */

/* CSS Container Queries Support */
@supports (container-type: inline-size) {
  .responsive-container {
    container-type: inline-size;
  }
}

/* Root variables for consistent scaling */
:root {
  /* Reference dimensions from user's ideal layout */
  --reference-width: 1468px;
  --reference-height: 689px;
  
  /* Fluid scale factor that maintains proportions */
  --scale-factor: min(100vw / var(--reference-width), 100vh / var(--reference-height));
  --min-scale: 0.6;
  --max-scale: 1.4;
  
  /* Constrained scale factor for better readability */
  --responsive-scale: clamp(var(--min-scale), var(--scale-factor), var(--max-scale));
  
  /* Fluid spacing that scales with viewport */
  --fluid-space-xs: clamp(0.25rem, 0.5vw, 0.5rem);
  --fluid-space-sm: clamp(0.5rem, 1vw, 1rem);
  --fluid-space-md: clamp(1rem, 2vw, 2rem);
  --fluid-space-lg: clamp(1.5rem, 3vw, 3rem);
  --fluid-space-xl: clamp(2rem, 4vw, 4rem);
}

/* Unified scrollbar system is now defined in index.css @layer components */

/* Main responsive wrapper - maintains exact proportions */
.responsive-layout-wrapper {
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.responsive-content-container {
  width: 100%;
  height: 100%;
  max-width: var(--reference-width);
  max-height: var(--reference-height);
  transform: scale(var(--responsive-scale));
  transform-origin: center center;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Container queries for component-level responsiveness */
@container (max-width: 768px) {
  .responsive-mobile {
    --responsive-scale: clamp(0.5, 100vw / var(--reference-width), 0.8);
  }
}

@container (min-width: 769px) and (max-width: 1024px) {
  .responsive-tablet {
    --responsive-scale: clamp(0.7, 100vw / var(--reference-width), 1);
  }
}

@container (min-width: 1025px) {
  .responsive-desktop {
    --responsive-scale: clamp(0.8, 100vw / var(--reference-width), 1.2);
  }
}

/* Fluid typography that scales proportionally */
.fluid-text {
  font-size: calc(1rem * var(--responsive-scale));
}

.fluid-text-sm {
  font-size: calc(0.875rem * var(--responsive-scale));
}

.fluid-text-lg {
  font-size: calc(1.125rem * var(--responsive-scale));
}

.fluid-text-xl {
  font-size: calc(1.25rem * var(--responsive-scale));
}

/* Fluid spacing that maintains proportions */
.fluid-padding {
  padding: calc(1rem * var(--responsive-scale));
}

.fluid-padding-sm {
  padding: calc(0.5rem * var(--responsive-scale));
}

.fluid-padding-lg {
  padding: calc(1.5rem * var(--responsive-scale));
}

.fluid-margin {
  margin: calc(1rem * var(--responsive-scale));
}

.fluid-margin-sm {
  margin: calc(0.5rem * var(--responsive-scale));
}

.fluid-margin-lg {
  margin: calc(1.5rem * var(--responsive-scale));
}

/* Responsive grid system that maintains proportions */
.responsive-grid {
  display: grid;
  gap: calc(1rem * var(--responsive-scale));
}

.responsive-flex {
  display: flex;
  gap: calc(1rem * var(--responsive-scale));
}

/* Performance optimizations */
.responsive-optimized {
  contain: layout style paint;
  will-change: transform;
  transform: translateZ(0);
}

/* Smooth transitions for scale changes */
.responsive-smooth {
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              opacity 0.2s ease;
}

/* Viewport-specific adjustments */
@media (max-width: 767px) {
  :root {
    --min-scale: 0.5;
    --max-scale: 0.9;
  }
}

@media (min-width: 768px) and (max-width: 1023px) {
  :root {
    --min-scale: 0.6;
    --max-scale: 1.1;
  }
}

@media (min-width: 1024px) and (max-width: 1439px) {
  :root {
    --min-scale: 0.7;
    --max-scale: 1.2;
  }
}

@media (min-width: 1440px) {
  :root {
    --min-scale: 0.8;
    --max-scale: 1.4;
  }
}

/* Landscape orientation optimizations */
@media (orientation: landscape) and (max-height: 600px) {
  :root {
    --responsive-scale: clamp(0.4, 100vh / var(--reference-height), 0.8);
  }
}

/* High DPI display optimizations */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .production-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
}

/* Accessibility: Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
  .responsive-smooth,
  .responsive-content-container {
    transition: none;
  }
}

/* Print styles */
@media print {
  .responsive-content-container {
    transform: none;
    max-width: none;
    max-height: none;
  }
}